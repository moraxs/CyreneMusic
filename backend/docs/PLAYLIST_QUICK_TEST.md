# æ­Œå•/ä¸“è¾‘è§£æåŠŸèƒ½å¿«é€Ÿæµ‹è¯•æŒ‡å—

## å‰ç½®å‡†å¤‡

1. **ç¡®ä¿æœåŠ¡å·²å¯åŠ¨**
   ```bash
   cd backend
   bun run dev
   ```
   æœåŠ¡å°†åœ¨ `http://localhost:4055` å¯åŠ¨

2. **ç¡®è®¤Cookieé…ç½®**
   ç¡®ä¿ `backend/cookie/cookie.txt` æ–‡ä»¶åŒ…å«æœ‰æ•ˆçš„ç½‘æ˜“äº‘ Cookie

## å¿«é€Ÿæµ‹è¯•

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨æµè§ˆå™¨

ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è®¿é—®ä»¥ä¸‹URLï¼š

#### æµ‹è¯•æ­Œå•è§£æ
```
http://localhost:4055/playlist?id=19723756
```

#### æµ‹è¯•ä¸“è¾‘è§£æ
```
http://localhost:4055/album?id=3406843
```
è¿™æ˜¯å‘¨æ°ä¼¦çš„ã€Šå¶æƒ ç¾ã€‹ä¸“è¾‘

### æ–¹æ³•äºŒï¼šä½¿ç”¨ cURL

```bash
# æµ‹è¯•æ­Œå•ï¼ˆå®Œæ•´ï¼‰
curl "http://localhost:4055/playlist?id=19723756"

# æµ‹è¯•æ­Œå•ï¼ˆé™åˆ¶å‰10é¦–ï¼‰
curl "http://localhost:4055/playlist?id=19723756&limit=10"

# æµ‹è¯•ä¸“è¾‘
curl "http://localhost:4055/album?id=3406843"
```

### æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ Postman / Insomnia

1. åˆ›å»ºæ–°çš„ GET è¯·æ±‚
2. è¾“å…¥URL: `http://localhost:4055/playlist`
3. æ·»åŠ æŸ¥è¯¢å‚æ•°:
   - `id`: `19723756`
   - `limit`: `10` (å¯é€‰)
4. å‘é€è¯·æ±‚

## æ¨èæµ‹è¯•æ­Œå•/ä¸“è¾‘

### çƒ­é—¨æ­Œå•

| åç§° | ID | è¯´æ˜ |
|------|----|----- |
| é£™å‡æ¦œ | 19723756 | ç½‘æ˜“äº‘å®˜æ–¹æ¦œå• |
| æ–°æ­Œæ¦œ | 3779629 | æœ€æ–°æ­Œæ›² |
| çƒ­æ­Œæ¦œ | 3778678 | çƒ­é—¨æ­Œæ›² |
| åŸåˆ›æ¦œ | 2884035 | åŸåˆ›éŸ³ä¹ |
| äº‘éŸ³ä¹æ¬§ç¾æ–°æ­Œæ¦œ | 2809577409 | æ¬§ç¾æ–°æ­Œ |
| äº‘éŸ³ä¹è¯´å”±æ¦œ | 991319590 | è¯´å”±éŸ³ä¹ |

### çƒ­é—¨ä¸“è¾‘

| è‰ºäºº | ä¸“è¾‘ | ID |
|------|------|----|
| å‘¨æ°ä¼¦ | å¶æƒ ç¾ | 3406843 |
| å‘¨æ°ä¼¦ | èŒƒç‰¹è¥¿ | 3406841 |
| å‘¨æ°ä¼¦ | Jay | 3406838 |
| æ—ä¿Šæ° | æ±Ÿå— | 3407024 |
| è–›ä¹‹è°¦ | æ„å¤– | 3094396 |

## é¢„æœŸå“åº”

### æ­Œå•æˆåŠŸå“åº”ç¤ºä¾‹

```json
{
  "status": 200,
  "success": true,
  "data": {
    "playlist": {
      "id": 19723756,
      "name": "é£™å‡æ¦œ",
      "coverImgUrl": "https://...",
      "creator": "ç½‘æ˜“äº‘éŸ³ä¹",
      "trackCount": 100,
      "description": "...",
      "tracks": [
        {
          "id": 1234567,
          "name": "æ­Œæ›²å",
          "artists": "è‰ºæœ¯å®¶",
          "album": "ä¸“è¾‘å",
          "picUrl": "https://...",
          "duration": 240000
        }
      ]
    }
  }
}
```

### ä¸“è¾‘æˆåŠŸå“åº”ç¤ºä¾‹

```json
{
  "status": 200,
  "success": true,
  "data": {
    "album": {
      "id": 3406843,
      "name": "å¶æƒ ç¾",
      "coverImgUrl": "https://...",
      "artist": "å‘¨æ°ä¼¦",
      "publishTime": 1057507200000,
      "description": "...",
      "songs": [
        {
          "id": 25643887,
          "name": "ä»¥çˆ¶ä¹‹å",
          "artists": "å‘¨æ°ä¼¦",
          "album": "å¶æƒ ç¾",
          "picUrl": "https://...",
          "duration": 329029
        }
      ]
    }
  }
}
```

## å¸¸è§é—®é¢˜æ’æŸ¥

### 1. è¿”å›400é”™è¯¯

**é”™è¯¯ä¿¡æ¯**: `å¿…é¡»æä¾›æ­Œå•IDå‚æ•°` æˆ– `å¿…é¡»æä¾›ä¸“è¾‘IDå‚æ•°`

**è§£å†³æ–¹æ¡ˆ**: ç¡®ä¿URLä¸­åŒ…å« `id` å‚æ•°
```bash
# é”™è¯¯ âŒ
curl "http://localhost:4055/playlist"

# æ­£ç¡® âœ…
curl "http://localhost:4055/playlist?id=19723756"
```

### 2. è¿”å›500é”™è¯¯

**å¯èƒ½åŸå› **:
- Cookieå¤±æ•ˆæˆ–æ ¼å¼é”™è¯¯
- ç½‘æ˜“äº‘APIè¯·æ±‚å¤±è´¥
- æ­Œå•/ä¸“è¾‘IDä¸å­˜åœ¨æˆ–å·²è¢«åˆ é™¤

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ `backend/cookie/cookie.txt` æ–‡ä»¶
2. ç¡®è®¤CookieåŒ…å« `MUSIC_U` å­—æ®µ
3. å°è¯•ä½¿ç”¨å·²çŸ¥å­˜åœ¨çš„IDè¿›è¡Œæµ‹è¯•

### 3. æ­Œå•tracksä¸ºç©ºæ•°ç»„

**å¯èƒ½åŸå› **:
- æ­Œå•ä¸­çš„æ­Œæ›²å·²å…¨éƒ¨ä¸‹æ¶
- Cookieæƒé™ä¸è¶³
- åˆ†æ‰¹è¯·æ±‚å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
1. å°è¯•å…¶ä»–æ­Œå•ID
2. æ£€æŸ¥æœåŠ¡ç«¯æ—¥å¿—æŸ¥çœ‹è¯¦ç»†é”™è¯¯
3. æ›´æ–°Cookie

### 4. å“åº”æ—¶é—´è¿‡é•¿

**å¯èƒ½åŸå› **:
- æ­Œå•æ­Œæ›²æ•°é‡è¿‡å¤šï¼ˆ1000+é¦–ï¼‰
- ç½‘ç»œè¿æ¥ä¸ç¨³å®š

**è§£å†³æ–¹æ¡ˆ**:
1. ä½¿ç”¨ `limit` å‚æ•°é™åˆ¶è¿”å›æ•°é‡
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. è€ƒè™‘æ·»åŠ å®¢æˆ·ç«¯è¶…æ—¶è®¾ç½®

## æ—¥å¿—æŸ¥çœ‹

æŸ¥çœ‹æœåŠ¡ç«¯æ—¥å¿—ä»¥è·å–è¯¦ç»†ä¿¡æ¯ï¼š

```bash
# å¼€å‘æ¨¡å¼ä¸‹ï¼Œæ—¥å¿—ä¼šç›´æ¥è¾“å‡ºåˆ°æ§åˆ¶å°
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼Œç¡®ä¿ config.json ä¸­ log_level è®¾ç½®ä¸º "DEV"
```

## è¿›ä¸€æ­¥æµ‹è¯•

### é›†æˆåˆ° Flutter åº”ç”¨

å¦‚æœä½ æƒ³åœ¨ Flutter åº”ç”¨ä¸­æµ‹è¯•ï¼š

```dart
import 'package:http/http.dart' as http;
import 'dart:convert';

Future<void> testPlaylist() async {
  final response = await http.get(
    Uri.parse('http://localhost:4055/playlist?id=19723756&limit=10'),
  );
  
  if (response.statusCode == 200) {
    final data = json.decode(response.body);
    print('æ­Œå•åç§°: ${data['data']['playlist']['name']}');
    print('æ­Œæ›²æ•°é‡: ${data['data']['playlist']['tracks'].length}');
  } else {
    print('è¯·æ±‚å¤±è´¥: ${response.statusCode}');
  }
}
```

## æ€§èƒ½åŸºå‡†

### å‚è€ƒæ•°æ®ï¼ˆæœ¬åœ°æµ‹è¯•ï¼‰

| åœºæ™¯ | æ­Œæ›²æ•°é‡ | å“åº”æ—¶é—´ |
|------|----------|----------|
| å°å‹æ­Œå• | 20é¦– | ~200ms |
| ä¸­å‹æ­Œå• | 100é¦– | ~800ms |
| å¤§å‹æ­Œå• | 500é¦– | ~3-5s |
| ä¸“è¾‘ | 12é¦– | ~150ms |

*æ³¨ï¼šå®é™…æ€§èƒ½å–å†³äºç½‘ç»œçŠ¶å†µå’ŒæœåŠ¡å™¨é…ç½®*

## åé¦ˆä¸æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š
1. å®Œæ•´çš„è¯·æ±‚URL
2. è¿”å›çš„é”™è¯¯ä¿¡æ¯
3. æœåŠ¡ç«¯æ—¥å¿—è¾“å‡º
4. ä½¿ç”¨çš„æ­Œå•/ä¸“è¾‘ID

ç¥æµ‹è¯•é¡ºåˆ©ï¼ğŸµ

